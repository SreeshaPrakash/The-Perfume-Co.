<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - The Perfume Co.</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">


    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
        }

        .error-message {
            color: red;
            font-size: 0.875rem;
            margin-top: 5px;
        }

        .container {
            max-width: 800px;
        }

        .form-control {
            border-radius: 5px;
        }

        .btn-danger {
            background-color: #d9534f;
            border: none;
            padding: 10px;
            font-size: 1rem;
            font-weight: bold;
        }

        .btn-danger:hover {
            background-color: #c9302c;
        }

        .navbar {
            margin-bottom: 20px;
        }

        .navbar-brand img {
            height: 40px;
        }

        .navbar-nav .nav-link {
            font-size: 1.1rem;
        }

        .navbar-nav .nav-link.active {
            font-weight: bold;
            color: #d9534f !important;
        }

        .navbar-toggler {
            border: none;
        }

        .form-group {
            position: relative;
        }

        .img-fluid {
            max-width: 100%;
            height: auto;
        }

        @media (max-width: 767px) {
            .row {
                text-align: center;
            }

            .col-md-6 {
                margin-bottom: 20px;
            }

            .container {
                padding: 0 15px;
            }
        }


        .error-message{
            color:red;
            font-size: 0.75rem;
            display: none;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <!-- <a class="navbar-brand" href="#"><img src="/images/logo.png" alt="Logo" height="40"></a> -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">About</a></li>
                    <li class="nav-item"><a class="nav-link active" href="#">Sign In</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="container my-5">
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="/images/projectSignupImage.webp" class="img-fluid" alt="Perfume Banner">
            </div>
            <div class="col-md-6">
                <h2>Create an account</h2>
                <p>Enter your details below</p>
                <form  id="signform" action="/signup" method="post">
                    <!-- First and Last Name -->
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <input type="text" id="firstName" name="firstName" class="form-control" placeholder="First Name" required>
                                <div id="error1" class="error-message"></div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <input type="text" id="lastName" name="lastName" class="form-control" placeholder="Last Name" required>
                                <div id="error2" class="error-message"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Email Field -->
                    <div class="mb-3">
                        <div class="form-group">
                            <input type="email" id="email" name="email" class="form-control" placeholder="Email" required>
                            <div id="error3" class="error-message"></div>
                        </div>
                    </div>


                    <!-- Phone Field -->
                    <div class="mb-3">
                        <div class="form-group">
                            <input type="text" id="phone" name="phone" class="form-control" placeholder="Phone" required>
                            <div id="error4" class="error-message"></div>
                        </div>
                    </div>


                    <!-- Password Field -->
                    <div class="mb-3">
                        <div class="form-group position-relative ">
                            <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
                            <span class="toggle-password position-absolute end-0 top-50 translate-middle-y me-3" onclick="togglePassword('password', 'eyeIcon1')">
                                <i id="eyeIcon1" class="bi bi-eye-slash"></i>
                            </span>
                            <div id="error5" class="error-message"></div>
                        </div>
                    </div>

                    <!-- Confirm Password Field -->
                    <div class="mb-3">
                        <div class="form-group position-relative ">
                            <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="Confirm Password" required>
                            <span class="toggle-password position-absolute end-0 top-50 translate-middle-y me-3" onclick="togglePassword('confirmPassword', 'eyeIcon2')">
                                <i id="eyeIcon2" class="bi bi-eye-slash"></i>
                            </span>
                            <div id="error6" class="error-message"></div>
                        </div>
                    </div>

                    

                    <% if(locals.message && message.length>0){%>
                        <div class="alert alert-danger text-center">
                              <%=message%>
                        </div>
                    <%}%>


                    <!-- Submit Button -->
                    <button class="btn btn-danger w-100" type="submit">Create Account</button>


                    <div class="text-center mt-3">
                        <p>Or sign up with</p>
                        <a href="/auth/google" class="btn btn-outline-dark w-100">Sign up with Google</a>
                    </div>
                    <div class="text-center mt-3">
                        <p>Already have an account? <a href="/login">Log in</a></p>
                    </div>

                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>




<script>  


const firstNameid = document.getElementById("firstName")
const lastNameid = document.getElementById("lastName")
const emailid = document.getElementById("email")
const phoneid = document.getElementById("phone")
const passid = document.getElementById("password")
const confirmPasswordid = document.getElementById("confirmPassword")

const error1 = document.getElementById("error1")
const error2 = document.getElementById("error2")
const error3 = document.getElementById("error3")
const error4 = document.getElementById("error4")
const error5 = document.getElementById("error5")
const error6 = document.getElementById("error6")
const signform = document.getElementById("signform")



function firstNameValidateChecking(){
    const firstnameval = firstNameid.value
    const namepattern = /^[A-Za-z\s]+$/

    if(firstnameval.trim()===""){
        error1.style.display="block"
        error1.innerHTML="please enter a valid name"
    }
    else if(!namepattern.test(firstnameval)){
        error1.style.display="block"
        error1.innerHTML="name can only contain alphabets and spaces"
    }
    else{
        error1.style.display="none"
        error1.innerHTML=""
    }
}



function lastNamevalidateChecking(){
    const lastnameval = lastNameid.value
    const namepattern = /^[A-Za-z\s]+$/

    if(lastnameval.trim()===""){
        error2.style.display="block"
        error2.innerHTML="please enter a valid name"
    }
    else if(!namepattern.test(lastnameval)){
        error2.style.display="block"
        error2.innerHTML="name can only contain alphabets and spaces"
    }
    else{
        error2.style.display="none"
        error2.innerHTML=""
    }

}




function emialValidateChecking(){
    const emailval = emailid.value
    const emailpattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/

    if(!emailpattern.test(emailval)){
        error3.style.display="block"
        error3.innerHTML ="invalid format"
    }
    else {
        error3.style.display ="none"
        error3.innerHTML=""
    }
}


function phoneValidateChecking(){
    const phoneval = phoneid.value.trim()


    if(phoneval.trim()===""){
        error4.style.display ="block"
        error4.innerHTML="enter valid phone number"

    }
    else if(phoneval.length!==10){
        error4.style.display="block"
        error4.innerHTML="enter 10 digit phone number"
    }
    else{
        error4.style.display="none"
        error4.innerHTML=""
    }
}



function passValidateChecking(){
    const passval = passid.value
    const cpassval = confirmPasswordid.value
    const alpha =/[A-Za-z]/
    const digit = /\d/
if(!passval){
    error5.style.display="block"
    error5.innerHTML ="please enter a password"
}
else if(passval.length<8){
    error5.style.display="block"
    error5.innerHTML="should contain atleat 8 characters"
}
else if(!alpha.test(passval) || !digit.test(passval)){
    error5.style.display="block"
    error5.innerHTML="should contain numbers and alphabets"
}
else{
    error5.style.display="none"
    error5.innerHTML=""
}


if(!cpassval){
    error6.style.display="block"
    error6.innerHTML="please confirm your password"
}
else if(passval !== cpassval){
    error6.style.display="block"
    error6.innerHTML="passwords do not match"
}
else{
    error6.style.display="none"
    error6.innerHTML=""
}

}





function togglePassword(inputId, eyeIconId) {
    const passwordInput = document.getElementById(inputId);
    const eyeIcon = document.getElementById(eyeIconId);

    if (passwordInput.type === "password") {
        passwordInput.type = "text";
        eyeIcon.classList.remove("bi-eye-slash");
        eyeIcon.classList.add("bi-eye");
    } else {
        passwordInput.type = "password";
        eyeIcon.classList.remove("bi-eye");
        eyeIcon.classList.add("bi-eye-slash");
    }
}






document.addEventListener("DOMContentLoaded",function(){
    signform.addEventListener("submit",function(e){

        firstNameValidateChecking()
        lastNamevalidateChecking()
        emialValidateChecking()
        phoneValidateChecking()
        passValidateChecking()


        if(
            error1.innerHTML || 
            error2.innerHTML ||
            error3.innerHTML ||
            error4.innerHTML ||
            error5.innerHTML ||
            error6.innerHTML
        ){
            e.preventDefault()
        }



    })
})



</script>


</body>
</html>
